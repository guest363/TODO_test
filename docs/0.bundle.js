(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{28:function(t,e,o){var n=o(30);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,o(7).default)("6935086c",n,!1,{})},29:function(t,e,o){"use strict";var n=o(28);o.n(n).a},30:function(t,e,o){(e=o(6)(!1)).push([t.i,'.completed[data-v-51e38af8] {\n  text-decoration: line-through;\n}\n*[data-v-51e38af8]:disabled {\n  background: none;\n  pointer-events: none;\n}\n.todo[data-v-51e38af8] {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n}\n.todo--edit[data-v-51e38af8] {\n  display: block;\n  padding: 12px 16px;\n  border: 0;\n  width: 100%;\n}\n.todo--edit[data-v-51e38af8]::placeholder {\n  /* Chrome, Firefox, Opera, Safari 10.1+ */\n  color: #b4b4b4;\n  opacity: 1;\n  /* Firefox */\n}\n.todo--checkbox[data-v-51e38af8] {\n  width: 60px;\n  height: 40px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.todo--checkbox--toggle[data-v-51e38af8] {\n  z-index: -99999;\n  position: absolute;\n  opacity: 0;\n}\n.todo--checkbox--toggle + .todo--checkbox--span[data-v-51e38af8] {\n  background-image: url("data:image/svg+xml;utf8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2240%22%20height%3D%2240%22%20viewBox%3D%22-10%20-18%20100%20135%22%3E%3Ccircle%20cx%3D%2250%22%20cy%3D%2250%22%20r%3D%2250%22%20fill%3D%22none%22%20stroke%3D%22%23ededed%22%20stroke-width%3D%223%22/%3E%3C/svg%3E");\n  background-repeat: no-repeat;\n  background-position: center left;\n}\n.todo--checkbox--toggle:checked + .todo--checkbox--span[data-v-51e38af8] {\n  background-image: url("data:image/svg+xml;utf8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2240%22%20height%3D%2240%22%20viewBox%3D%22-10%20-18%20100%20135%22%3E%3Ccircle%20cx%3D%2250%22%20cy%3D%2250%22%20r%3D%2250%22%20fill%3D%22none%22%20stroke%3D%22%23bddad5%22%20stroke-width%3D%223%22/%3E%3Cpath%20fill%3D%22%235dc2af%22%20d%3D%22M72%2025L42%2071%2027%2056l-4%204%2020%2020%2034-52z%22/%3E%3C/svg%3E");\n}\n.todo--checkbox--span[data-v-51e38af8] {\n  width: 100%;\n  height: 100%;\n  display: block;\n}\n.todo--destroy[data-v-51e38af8] {\n  display: block;\n  opacity: 0.6;\n  padding: 0 10px;\n  border: none;\n  background: none;\n}\n.todo--destroy[data-v-51e38af8]:hover {\n  background-color: #e79c9c;\n}\n@media screen and (-webkit-min-device-pixel-ratio: 0) {\n.todo--checkbox--toggle[data-v-51e38af8] {\n    background: none;\n}\n}\n',""]),t.exports=e},33:function(t,e,o){var n=o(43);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,o(7).default)("515adbe8",n,!1,{})},34:function(t,e,o){var n=o(45);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,o(7).default)("69eaad01",n,!1,{})},36:function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("modal",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],attrs:{id:t.id},on:{close:function(e){return t.$store.commit("closeModal",t.id)}},scopedSlots:t._u([{key:"header",fn:function(){return[o("h2",[t._v("Вы уверены, что хотите удалить заметку?")])]},proxy:!0},{key:"footer",fn:function(){return[o("button",{staticClass:"bt__save",on:{click:function(e){return t.$store.commit("closeModal",t.id)}}},[t._v("\n      Нет, отменить удаление\n    ")]),t._v(" "),o("button",{staticClass:"bt__delete",on:{click:function(e){return t.$emit("delete")}}},[t._v("Да, удалить")])]},proxy:!0}])})};n._withStripped=!0;var i={props:{id:{type:String}},computed:{show(){return this.$store.getters.getModalDisplayStatus(this.id)}}},a=o(1),s=Object(a.a)(i,n,[],!1,null,null,null);s.options.__file="src/components/modals/confirm-delete-modal.vue";e.a=s.exports},37:function(t,e,o){"use strict";var n=function(t,e){var o=e._c;return o("div",{staticClass:"todo"},[o("label",{staticClass:"todo--checkbox"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.props.todo.completed,expression:"props.todo.completed"}],staticClass:"todo--checkbox--toggle",attrs:{type:"checkbox",disabled:e.props.disabled||!1},domProps:{checked:Array.isArray(e.props.todo.completed)?e._i(e.props.todo.completed,null)>-1:e.props.todo.completed},on:{input:function(t){return e.listeners.check(t.target.checked)},change:function(t){var o=e.props.todo.completed,n=t.target,i=!!n.checked;if(Array.isArray(o)){var a=e._i(o,null);n.checked?a<0&&e.$set(e.props.todo,"completed",o.concat([null])):a>-1&&e.$set(e.props.todo,"completed",o.slice(0,a).concat(o.slice(a+1)))}else e.$set(e.props.todo,"completed",i)}}}),e._v(" "),o("span",{staticClass:"todo--checkbox--span"})]),e._v(" "),o("label",[o("input",{ref:"input_item_"+e.props.index,staticClass:"todo--edit",class:{completed:e.props.todo.completed},attrs:{disabled:e.props.disabled||!1,type:"text",placeholder:"Что нужно сделать?"},domProps:{value:e.props.todo.title},on:{click:function(t){return e.props.editTodo(e.props.todo)},change:function(t){return e.props.doneEdit(e.props.todo)},blur:function(t){return e.props.removeEmpty({title:e.props.todo.title,index:e.props.index})},keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.props.addTodo({todo:e.props.todo,index:e.props.index})},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.props.cancelEdit(e.props.todo)}],input:function(t){return e.listeners.input(t.target.value)}}})]),e._v(" "),o("button",{directives:[{name:"show",rawName:"v-show",value:!e.props.disabled,expression:"!props.disabled"}],staticClass:"todo--destroy icon-bin2",attrs:{disabled:e.props.disabled||!1},on:{click:function(t){return e.props.removeTodo(e.props.index)}}})])};n._withStripped=!0;o(29);var i=o(1),a=Object(i.a)({},n,[],!0,null,"51e38af8",null);a.options.__file="src/moduleCard/components/todoItem.vue";e.a=a.exports},42:function(t,e,o){"use strict";var n=o(33);o.n(n).a},43:function(t,e,o){(e=o(6)(!1)).push([t.i,'.card__wrapper[data-v-56a0eb4a] {\n  width: 100%;\n  padding: 1em 2em;\n  height: 100%;\n}\n@media (max-width: 650px) {\n.card__wrapper[data-v-56a0eb4a] {\n    height: 100vh;\n    padding: 0;\n}\n}\n.card[data-v-56a0eb4a] {\n  border-radius: 2px;\n  max-width: 450px;\n  width: 100%;\n  margin: 0 auto 1em auto;\n  box-shadow: var(--shadow);\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  justify-content: space-between;\n}\n.card__many[data-v-56a0eb4a]::after {\n  bottom: -10px;\n  position: absolute;\n  height: 5px;\n  display: block;\n  margin: 0 auto;\n  width: 96%;\n  left: 2%;\n  content: "";\n  box-shadow: var(--shadow);\n}\n.card__many[data-v-56a0eb4a]::before {\n  bottom: -5px;\n  position: absolute;\n  height: 5px;\n  display: block;\n  margin: 0 auto;\n  width: 98%;\n  left: 1%;\n  content: "";\n  box-shadow: var(--shadow);\n}\n.card__short--nav > .card--actions[data-v-56a0eb4a] {\n  position: absolute;\n  display: block;\n  top: 5px;\n  bottom: 0;\n  right: 5px;\n  height: min-content;\n  opacity: 1;\n  width: min-content;\n}\n.card__short--nav > .card--actions .card--actions--item[data-v-56a0eb4a] {\n  background: none;\n  border: 1px solid;\n  border-radius: 50%;\n  color: white;\n  padding: 10px;\n}\n.card__single[data-v-56a0eb4a] {\n  justify-content: flex-start;\n  overflow: hidden;\n  padding: 0;\n  box-shadow: none;\n  margin: 0 auto;\n  display: grid;\n  height: 100vh;\n  height: calc(var(--vh, 1vh) * 100);\n  max-height: 100vh;\n  box-sizing: border-box;\n  grid-template-rows: 70px 1fr 50px;\n}\n.card--actions[data-v-56a0eb4a] {\n  width: 100%;\n  height: min-content;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-around;\n  align-items: center;\n  opacity: 0.7;\n  z-index: 20;\n}\n.card--actions__single[data-v-56a0eb4a] {\n  background-color: white;\n}\n@media (max-width: 650px) {\n.card--actions__single--item[data-v-56a0eb4a] {\n    font-size: 20px;\n    padding: 10px 15px !important;\n}\n}\n@media (max-width: 650px) {\n.card--actions__single[data-v-56a0eb4a] {\n    flex-direction: row;\n    justify-content: space-around;\n    width: 100%;\n    z-index: 10;\n    align-items: center;\n    height: 100%;\n}\n}\n.card--actions--item[data-v-56a0eb4a] {\n  padding: 10px 30px;\n}\n.card--actions--item[data-v-56a0eb4a]:disabled {\n  opacity: 0.3;\n}\n.card--header[data-v-56a0eb4a] {\n  padding: 14px 40px 14px 24px;\n  background: #a8cafc;\n  margin: 0;\n  border: none;\n  color: white;\n  cursor: pointer;\n  min-height: 25px;\n  box-sizing: content-box;\n}\n.card--header--input[data-v-56a0eb4a] {\n  border: none;\n  outline: none;\n  padding: 0.2em 0;\n  background: none;\n  color: white;\n  font-size: 2em;\n  width: 100%;\n  z-index: 10;\n}\n.card--content[data-v-56a0eb4a] {\n  background: white;\n  cursor: pointer;\n  padding: 1em;\n  overflow: auto;\n  height: 100%;\n}\n@media (max-width: 650px) {\n.card--content[data-v-56a0eb4a] {\n    padding: 10px 15px 10px 10px;\n    overflow: auto;\n}\n}\n.card--footer[data-v-56a0eb4a] {\n  display: flex;\n  justify-content: space-between;\n  margin-top: 1em;\n}\n.add-button[data-v-56a0eb4a] {\n  position: fixed;\n  bottom: 20px;\n  right: 10%;\n  border-radius: 100%;\n  padding: 1.5em;\n  background-color: #e79c9c;\n  color: white;\n  border: none;\n  z-index: 30;\n}\n.todo-list[data-v-56a0eb4a] {\n  margin: 0;\n  padding: 0;\n  list-style: none;\n}\n',""]),t.exports=e},44:function(t,e,o){"use strict";var n=o(34);o.n(n).a},45:function(t,e,o){(e=o(6)(!1)).push([t.i,".cards--grid[data-v-56a0eb4a] {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(250px, max-content));\n  grid-column-gap: 100px;\n  grid-row-gap: 3em;\n  justify-content: center;\n}\n.cards__wrapper[data-v-56a0eb4a] {\n  width: 100%;\n  padding: 2em;\n  overflow: auto;\n}\n",""]),t.exports=e},48:function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"card__wrapper"},[o("div",{staticClass:"card card__single"},[o("div",{staticClass:"card--header"},[o("label",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.card.header,expression:"card.header"}],staticClass:"card--header--input",attrs:{type:"text",placeholder:"Название списка"},domProps:{value:t.card.header},on:{input:function(e){e.target.composing||t.$set(t.card,"header",e.target.value)}}})])]),t._v(" "),o("div",{staticClass:"card--content"},[o("ul",{staticClass:"todo-list"},t._l(t.card.items,(function(e,n){return o("li",{key:n,staticClass:"todo-list--item"},[o("todo-item",{attrs:{index:n,todo:e,doneEdit:t.doneEdit,cancelEdit:t.cancelEdit,removeTodo:t.removeTodo,editTodo:t.editTodo,addTodo:t.addTodo,removeEmpty:t.removeEmpty},on:{input:function(e){t.card.items[n].title=e},check:function(o){return t.checkedTodo(e,o)}}})],1)})),0)]),t._v(" "),o("div",{staticClass:"card--actions card--actions__single"},[o("button",{staticClass:"bt__delete card--actions--item icon-bin2 card--actions__single--item",on:{click:function(e){return t.confirmRemoveCard()}}}),t._v(" "),o("button",{staticClass:"bt__save icon-floppy-disk card--actions--item card--actions__single--item",on:{click:t.saveCard}}),t._v(" "),o("button",{staticClass:"bt__delete icon-undo2 card--actions--item card--actions__single--item",attrs:{disabled:t.historyPosition<1},on:{click:t.undo}}),t._v(" "),o("button",{staticClass:"bt__delete icon-redo2 card--actions--item card--actions__single--item",attrs:{disabled:t.history.length-1<=t.historyPosition},on:{click:t.redo}}),t._v(" "),o("button",{staticClass:"bt__cancel icon-home card--actions--item card--actions__single--item",on:{click:t.goHome}})])]),t._v(" "),o("confirm-delete-modal",{attrs:{id:t.delModalID},on:{delete:t.removeCard}}),t._v(" "),o("confirm-save-modal",{attrs:{id:t.saveModalID},on:{saveAndGo:t.saveAndGo,goWithOutSave:t.goWithOutSave}})],1)};n._withStripped=!0;var i=o(37),a=o(36),s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("modal",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],attrs:{id:t.id},on:{close:function(e){return t.$store.commit("closeModal",t.id)}},scopedSlots:t._u([{key:"header",fn:function(){return[o("h2",[t._v("\n      Вы уверены, что хотите вернуться в списку заметок не сохранив внесенные\n      изменения?\n    ")])]},proxy:!0},{key:"footer",fn:function(){return[o("button",{staticClass:"bt__save",on:{click:function(e){return t.$emit("saveAndGo")}}},[t._v("\n      Сохранить изменения\n    ")]),t._v(" "),o("button",{staticClass:"bt__delete",on:{click:function(e){return t.$emit("goWithOutSave")}}},[t._v("\n      Перейти без сохранения\n    ")])]},proxy:!0}])})};s._withStripped=!0;var d={props:{id:{type:String}},computed:{show(){return this.$store.getters.getModalDisplayStatus(this.id)}}},r=o(1),c=Object(r.a)(d,s,[],!1,null,null,null);c.options.__file="src/components/modals/confirm-save-modal.vue";var l=c.exports,p={data:()=>({card:{},editedTodo:null,history:[],historyPosition:0,hasUnsavedActions:!1,delModalID:"delete",saveModalID:"save"}),components:{todoItem:i.a,confirmDeleteModal:a.a,confirmSaveModal:l},props:{id:{type:String,default:""}},methods:{initHistory(){this.history.push(JSON.parse(JSON.stringify(this.card.items)))},checkedTodo(t,e){t.completed=e,this.addToHistory()},addToHistory(){(()=>{this.history.length-1!==this.historyPosition&&(this.history=this.history.slice(0,this.historyPosition))})(),this.historyPosition+=1,this.hasUnsavedActions=!0,this.history.push(JSON.parse(JSON.stringify(this.card.items)))},addTodo({todo:t,index:e}={}){const o=()=>{this.card.items.splice(e+1,0,{title:"",completed:!1})},n=void 0!==t;if(!n)return o(),void this.$nextTick(()=>{this.$refs.input_item_0.focus()});const i=n&&!t.title;i&&void 0!==this.card.items[e+1]?this.$refs["input_item_"+(e-1)].focus():i||(o(),this.doneEdit(t),this.$nextTick(()=>{this.$refs["input_item_"+(e+1)].focus()}))},doneEdit(t){this.beforeEditCache!==t.title&&(t.title?this.addToHistory():this.removeTodo(t))},saveCard(){this.hasUnsavedActions=!1,this.$store.dispatch("SAVE_CARD",this.card)},removeEmpty({title:t,index:e}){!t&&e>0&&this.card.items.splice(e,1)},removeTodo(t){if(this.card.items.splice(t,1),void 0===this.card.items[0])return console.log("void"),void this.addTodo();this.addToHistory()},goHome(){this.hasUnsavedActions?this.$store.commit("showModal",this.saveModalID):this.$router.push("/")},saveAndGo(){this.hasUnsavedActions=!1,this.saveCard(),this.goHome()},goWithOutSave(){this.hasUnsavedActions=!1,this.goHome()},editTodo(t){this.beforeEditCache=t.title,this.editedTodo=t},travelInHistory(){this.card.items="",this.card.items=JSON.parse(JSON.stringify(this.history[this.historyPosition]))},undo(){this.historyPosition-=1,this.travelInHistory()},redo(){this.historyPosition+=1,this.travelInHistory()},cancelEdit(t){this.editedTodo=null,t.title=this.beforeEditCache},confirmRemoveCard(){this.$store.commit("showModal",this.delModalID)},removeCard(){this.$store.dispatch("DELETE_CARD",this.$props.id),this.$store.commit("closeModal",this.delModalID)}},beforeMount(){this.card=this.$store.getters.GET_CARD(this.$props.id),void 0===this.card.items[0]?this.addTodo():this.initHistory()},mounted(){window.scrollTo(0,0)},beforeDestroy(){this.$store.commit("closeModal",this.delModalID),this.$store.commit("closeModal",this.saveModalID)}},h=(o(42),o(44),Object(r.a)(p,n,[],!1,null,"56a0eb4a",null));h.options.__file="src/moduleCard/views/card.vue";e.default=h.exports}}]);